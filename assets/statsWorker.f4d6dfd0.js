import{d3 as T,aT as y}from"./GISSearch.b73a2371.js";import{T as x,s as w,m as V,c as F,V as I,g as E,h as P,y as h,D,z as g}from"./utils.80b0e4c7.js";import"./index.8ac88fb7.js";import"./ProjectWeberRenew.dc78a7b0.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./ClassBreaksDefinition.723cff01.js";let d=null;async function v(e,a){if(!a)return[];const s=e.field,i=e.valueExpression,n=e.normalizationType,l=e.normalizationField,r=e.normalizationTotal,t=[],o=e.viewInfoParams;let m=null,c=null;if(i){if(!d){const{arcadeUtils:u}=await T();d=u}m=d.createFunction(i),c=o&&d.getViewInfo({viewingMode:o.viewingMode,scale:o.scale,spatialReference:new y(o.spatialReference)})}return a.forEach(u=>{const p=u.attributes;let f;if(i){const z=d.createExecContext(u,c);f=d.executeFunction(m,z)}else p&&(f=p[s]);if(n&&isFinite(f)){const z=p&&parseFloat(p[l]);f=x(f,n,z,r)}t.push(f)}),t}async function k(e){const{attribute:a,features:s}=e,{normalizationType:i,normalizationField:n,minValue:l,maxValue:r,fieldType:t}=a,o=await v({field:a.field,valueExpression:a.valueExpression,normalizationType:i,normalizationField:n,normalizationTotal:a.normalizationTotal,viewInfoParams:a.viewInfoParams},s),m=w({normalizationType:i,normalizationField:n,minValue:l,maxValue:r}),c={value:.5,fieldType:t},u=t==="esriFieldTypeString"?V({values:o,supportsNullCount:m,percentileParams:c}):F({values:o,minValue:l,maxValue:r,useSampleStdDev:!i,supportsNullCount:m,percentileParams:c});return I(u,t==="esriFieldTypeDate")}async function N(e){const{attribute:a,features:s}=e,i=await v({field:a.field,valueExpression:a.valueExpression,viewInfoParams:a.viewInfoParams},s),n=E(i);return P(n,a.domain,a.returnAllCodedValues)}async function R(e){const{attribute:a,features:s}=e,{field:i,normalizationType:n,normalizationField:l,normalizationTotal:r,classificationMethod:t}=a,o=await v({field:i,valueExpression:a.valueExpression,normalizationType:n,normalizationField:l,normalizationTotal:r,viewInfoParams:a.viewInfoParams},s),m=h(o,{field:i,normalizationType:n,normalizationField:l,normalizationTotal:r,classificationMethod:t,standardDeviationInterval:a.standardDeviationInterval,numClasses:a.numClasses,minValue:a.minValue,maxValue:a.maxValue});return D(m,t)}async function q(e){const{attribute:a,features:s}=e,{field:i,normalizationType:n,normalizationField:l,normalizationTotal:r,classificationMethod:t}=a,o=await v({field:i,valueExpression:a.valueExpression,normalizationType:n,normalizationField:l,normalizationTotal:r,viewInfoParams:a.viewInfoParams},s);return g(o,{field:i,normalizationType:n,normalizationField:l,normalizationTotal:r,classificationMethod:t,standardDeviationInterval:a.standardDeviationInterval,numBins:a.numBins,minValue:a.minValue,maxValue:a.maxValue})}export{R as classBreaks,q as histogram,k as summaryStatistics,N as uniqueValues};
