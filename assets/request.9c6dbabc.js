var h=Object.defineProperty,m=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var g=(r,t,e)=>t in r?h(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,u=(r,t)=>{for(var e in t||(t={}))v.call(t,e)&&g(r,e,t[e]);if(d)for(var e of d(t))y.call(t,e)&&g(r,e,t[e]);return r},c=(r,t)=>m(r,q(t));import{g as j,e as w}from"./GISSearch.b73a2371.js";import"./index.8ac88fb7.js";import"./ProjectWeberRenew.dc78a7b0.js";import"./plugin-vue_export-helper.21dcd24c.js";let b;function B(r,t){let e=t.responseType;e?e!=="array-buffer"&&e!=="blob"&&e!=="json"&&e!=="native"&&e!=="native-request-init"&&e!=="text"&&(e="text"):e="json",t.responseType=e;const f=j(t.signal);return delete t.signal,globalThis.invokeStaticMessage("request",{url:r,options:t},{signal:f}).then(async s=>{let i,n,p,l,a;if(s.data)if(s.data instanceof ArrayBuffer){if(!(e!=="json"&&e!=="text"&&e!=="blob"||(i=new Blob([s.data]),e!=="json"&&e!=="text"||(b||(b=new FileReaderSync),l=b.readAsText(i),e!=="json")))){try{n=JSON.parse(l||null)}catch(o){const x=c(u({},o),{url:r,requestOptions:t});throw new w("request:server",o.message,x)}if(n.error){const o=c(u({},n.error),{url:r,requestOptions:t});throw new w("request:server",n.error.message,o)}}}else e==="native"&&(s.data.signal=f,p=await fetch(s.data.url,s.data));switch(e){case"blob":a=i;break;case"json":a=n;break;case"native":a=p;break;case"text":a=l;break;default:a=s.data}return{data:a,requestOptions:t,ssl:s.ssl,url:r}})}export{B as execute};
